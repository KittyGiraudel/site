---
layout: default
title: Looking for something
description: Search page for all articles aggregated on the blog.
keywords:
- blog
- search
- writing
permalink: /blog/search/
---

{% include "styles.html", partials: "components/search" %}
{% include "script.html", partials: "vendors/jekyll-search" %}

{% include "ad.html" %}

{% markdown %}
In almost 300 posts, I probably have written something at least a bit
interesting. What about giving it a search?
{% endmarkdown %}

{% include "search.html" %}

<script>
  document.addEventListener('DOMContentLoaded', function () {
    loadJS('{{ "/assets/js/vendors/jekyll-search.js" }}', search)
  });

  function search() {
    var searchInput = document.getElementById('search-input');
    var resultsContainer = document.getElementById('results-container');

    var sjs = SimpleJekyllSearch({
      searchInput: searchInput,
      resultsContainer: resultsContainer,
      json: '/blog/search/data.json',
      fuzzy: false,
      searchResultTemplate: '<li class="List__item">\
        <span class="List__secondary-content">{date}{guest}{external}</span>\
        <a href="{url}" class="List__primary-content" lang="{lang}" hreflang="{lang}">{title}</a>\
      </li>',
      noResultsText: '<li class="List__item">Sorry, I could not find any result for your search. :( Hey, if you really wanna have results, I suggest looking for “accessib” or “sass”!</li>'
    });

    function updateURLFromQuery(value) {
      try {
        var url = new URL(window.location.href);
        var trimmed = (value || '').trim();

        if (trimmed) url.searchParams.set('q', trimmed);
        else url.searchParams.delete('q');

        if (url.toString() !== window.location.href) window.history.replaceState({}, '', url);
      } catch (e) {
        // Fail silently if URL / URLSearchParams are not available
      }
    }

    if (searchInput) {
      // Keep the URL in sync with what the user is typing
      searchInput.addEventListener('input', function (event) {
        updateURLFromQuery(event.target.value);
      });
    }

    // Pre-fill and trigger search from query parameter, e.g. ?q=accessibility
    try {
      var params = new URLSearchParams(window.location.search);
      var query = params.get('q') || params.get('query');

      if (query && searchInput) {
        searchInput.value = query;
        updateURLFromQuery(query);
        setTimeout(() => sjs.search(query), 100);
      }
    } catch (e) {
      // Fail silently if URLSearchParams is unavailable or something goes wrong
    }
  }
</script>
